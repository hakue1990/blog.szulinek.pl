<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bash Cheatsheet | IT Tech Anytime</title><meta name=keywords content="tech,www,bash"><meta name=description content="Start writting shell scripts!"><meta name=author content="Adam"><link rel=canonical href=https://canonical.url/to/page><link crossorigin=anonymous href=/assets/css/stylesheet.cb2ba463b21cd55ccebc7e63bb8cfa6b32887f84b96fdab5a1fa38e91370b35b.css integrity="sha256-yyukY7Ic1VzOvH5ju4z6azKIf4S5b9q1ofo46RNws1s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://szulinek.pl/assets/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://szulinek.pl/assets/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://szulinek.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://szulinek.pl/assets/favicon/apple-touch-icon.png><link rel=mask-icon href=https://szulinek.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://szulinek.pl/en/posts/bash-cheatsheet/><link rel=alternate hreflang=pl href=https://szulinek.pl/pl/posts/bash-cheatsheet/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Bash Cheatsheet"><meta property="og:description" content="Start writting shell scripts!"><meta property="og:type" content="article"><meta property="og:url" content="https://szulinek.pl/en/posts/bash-cheatsheet/"><meta property="og:image" content="https://szulinek.pl/img/blog/bash.webp"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-21T21:22:03+02:00"><meta property="article:modified_time" content="2023-07-21T21:22:03+02:00"><meta property="og:site_name" content="IT Tech Anytime"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://szulinek.pl/img/blog/bash.webp"><meta name=twitter:title content="Bash Cheatsheet"><meta name=twitter:description content="Start writting shell scripts!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":4,"name":"Bash Cheatsheet","item":"https://szulinek.pl/en/posts/bash-cheatsheet/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bash Cheatsheet","name":"Bash Cheatsheet","description":"Start writting shell scripts!","keywords":["tech","www","bash"],"articleBody":"What is Bash? Bash is a so-called Linux shell. It is nothing more than a program that allows us to communicate with the system. There are various shells for the Linux system, but Bash is by far the most popular. For countless users, it is a fundamental tool for their work.\nWhat can I do with the BASH shell? Everything! It would be easier to list what you cannot do.\nThink of any task that takes a lot of time in the Linux system. Now, imagine that you can easily automate that task using Bash.\nWith Bash scripts, you can, for example:\n Create your own commands Perform calculations Manipulate files Automate tasks  And much more :)\nHow to start writing shell scripts? Below are a few excellent resources to begin your journey with shell scripts:\n Learn Bash in Y Minutes! Bash Guide Bash for Hackers!  Sample script #!/usr/bin/env bash  name=\"John\" echo \"Hello $name!\" Variables name=\"John\" echo $name # see below echo \"$name\" echo \"${name}!\" Conditional Execution git commit \u0026\u0026 git push git commit || echo \"Commit failed\" Conditions if [[ -z \"$string\" ]]; then echo \"String is empty\" elif [[ -n \"$string\" ]]; then echo \"String is not empty\" fi String types name=\"John\" echo \"Hi $name\" #= Hi John echo 'Hi $name' #= Hi $name Command Substitution echo \"I'm in $(pwd)\" echo \"I'm in `pwd`\" Strict Mode set -euo pipefail IFS=$'\\n\\t' Functions get_name() { echo \"John\" } echo \"You are $(get_name)\" Function Definitions myfunc() { echo \"hello $1\" } # Same, but a different syntax function myfunc() { echo \"hello $1\" } myfunc \"John\" Returning Values myfunc() { local myresult='some value' echo \"$myresult\" } result=$(myfunc) Function Arguments $# # Number of arguments $* # All positional parameters as a single word $@ # All positional parameters as separate strings $1 # The first argument $_ # The last argument of the previous command ${PIPESTATUS[n]} # An array containing the exit status of each command in the pipeline Errors myfunc() { return 1 } if myfunc; then echo \"success\" else echo \"failure\" fi Brace Expansion echo {A,B}.js {A,B} # Same as A B {A,B}.js # Same as A.js B.js {1..5} # Same as 1 2 3 4 5 Parameter Expansion name=\"John\" echo \"${name}\" echo \"${name/J/j}\" #= \"john\" (replace) echo \"${name:0:2}\" #= \"Jo\" (substring) echo \"${name::2}\" #= \"Jo\" (substring) echo \"${name::-1}\" #= \"Joh\" (substring) echo \"${name:(-1)}\" #= \"n\" (substring from the right) echo \"${name:(-2):1}\" #= \"h\" (substring from the right) echo \"${food:-Cake}\" #= $food or \"Cake\" length=2 echo \"${name:0:length}\" #= \"Jo\" See: Parameter Expansion\nstr=\"/path/to/foo.cpp\" echo \"${str%.cpp}\" # /path/to/foo echo \"${str%.cpp}.o\" # /path/to/foo.o echo \"${str%/*}\" # /path/to echo \"${str##*.}\" # cpp (extension) echo \"${str##*/}\" # foo.cpp (base name) echo \"${str#*/}\" # path/to/foo.cpp echo \"${str##*/}\" # foo.cpp echo \"${str/foo/bar}\" # /path/to/bar.cpp str=\"Hello world\" echo \"${str:6:5}\" # \"world\" echo \"${str: -5:5}\" # \"world\" src=\"/path/to/foo.cpp\" base=${src##*/} #= \"foo.cpp\" (base name) dir=${src%$base} #= \"/path/to/\" (directory path) Variable Replacement ${foo%suffix} # Remove suffix ${foo#prefix} # Remove prefix ${foo%%suffix} # Remove long suffix ${foo/%suffix} # Remove long suffix ${foo##prefix} # Remove long prefix ${foo/#prefix} # Remove long prefix ${foo/from/to} # Replace first match ${foo//from/to} # Replace all matches ${foo/%from/to} # Replace suffix ${foo/#from/to} # Replace prefix Comments # Single line comment : ' This is a multi-line comment ' Substrings ${foo:0:3} ${foo:(-3):3} Length ${#foo} # Length of $foo Default Values ${foo:-val} # $foo or val if unset (or empty) ${foo:=val} # Set $foo to val if unset (or empty) ${foo:+val} # val if $foo is set (and not empty) ${foo:?message} # Display error message and exit if $foo is unset (or empty) Using colon (:), removes the checking (un)set, e.g. ${foo-val} will return val if $foo is unset, otherwise $foo. Loops For loop for i in /etc/rc.*; do echo \"$i\" done C-style for loop for ((i = 0 ; i 100 ; i++)); do echo \"$i\" done Read lines in a loop while read -r line; do echo \"$line\" done Infinite loop while true; do ··· done Ranges for i in {1..5}; do echo \"Welcome $i\" done for i in {5..50..5}; do echo \"Welcome $i\" done Conditions [[ -z STRING ]] # Empty string [[ -n STRING ]] # Non-empty string [[ STRING == STRING ]] # Equal [[ STRING != STRING ]] # Not equal [[ NUM -eq NUM ]] # Equal [[ NUM -ne NUM ]] # Not equal [[ NUM -lt NUM ]] # Less than [[ NUM -le NUM ]] # Less than or equal [[ NUM -gt NUM ]] # Greater than [[ NUM -ge NUM ]] # Greater than or equal [[ STRING =~ STRING ]] # Regular expression match (( NUM )) # Numeric conditions [[ -o noclobber ]] # If option OPTIONNAME is set [[ ! EXPR ]] # Negation [[ X \u0026\u0026 Y ]] # AND [[ X || Y ]] # OR File Conditions [[ -e FILE ]] # Exists [[ -r FILE ]] # Readable [[ -h FILE ]] # Symbolic link [[ -d FILE ]] # Directory [[ -w FILE ]] # Writable [[ -s FILE ]] # Size is greater than zero [[ -f FILE ]] # File [[ -x FILE ]] # Executable [[ FILE1 -nt FILE2 ]] # FILE1 is newer than FILE2 [[ FILE1 -ot FILE2 ]] # FILE2 is newer than FILE1 [[ FILE1 -ef FILE2 ]] # Same files Example Conditions # String if [[ -z \"$string\" ]]; then echo \"String is empty\" elif [[ -n \"$string\" ]]; then echo \"String is not empty\" else echo \"This never happens\" fi # Combinations if [[ X \u0026\u0026 Y ]]; then ... fi # Equal if [[ \"$A\" == \"$B\" ]] # Regex if [[ \"A\" =~ . ]] if (( $a $b )); then echo \"$ais smaller than $b\" fi if [[ -e \"file.txt\" ]]; then echo \"file exists\" fi Arrays Declarations Fruits=('Apple' 'Banana' 'Orange') Fruits[0]=\"Apple\" Fruits[1]=\"Banana\" Fruits[2]=\"Orange\" Working with Arrays echo \"${Fruits[0]}\" # Element #0 echo \"${Fruits[-1]}\" # Last element echo \"${Fruits[@]}\" # All elements, space-separated echo \"${#Fruits[@]}\" # Number of elements echo \"${#Fruits}\" # Length of first element echo \"${#Fruits[3]}\" # Length of the Nth element echo \"${Fruits[@]:3:2}\" # Range (starting from position 3, length 2) echo \"${!Fruits[@]}\" # Keys of all elements, space-separated Array Operations Fruits=(\"${Fruits[@]}\" \"Watermelon\") # Add Fruits+=('Watermelon') # Same, add Fruits=( \"${Fruits[@]/Ap*/}\" ) # Remove by regex match unset Fruits[2] # Remove one element Fruits=(\"${Fruits[@]}\") # Duplicate Fruits=(\"${Fruits[@]}\" \"${Veggies[@]}\") # Merge two arrays lines=(`cat \"logfile\"`) # Read from file Iterating over an Array for i in \"${arrayName[@]}\"; do echo \"$i\" done Dictionaries (Associative Arrays) Declarations declare -A sounds sounds[dog]=\"bark\" sounds[cow]=\"moo\" sounds[bird]=\"tweet\" sounds[wolf]=\"howl\" Declares “sounds” as a dictionary (associative array).\nWorking with Dictionaries echo \"${sounds[dog]}\" # Dog sound echo \"${sounds[@]}\" # All values echo \"${!sounds[@]}\" # All keys echo \"${#sounds[@]}\" # Number of elements unset sounds[dog] # Remove dog key Iterating over a Dictionary # Iterate over values for val in \"${sounds[@]}\"; do echo \"$val\" done # Iterate over keys for key in \"${!sounds[@]}\"; do echo \"$key\" done Options set -o noclobber # Avoid overwriting files (echo \"hi\"  foo) set -o errexit # Exit on error, avoiding cascading errors set -o pipefail # Show hidden errors set -o nounset # Treat unset variables as errors Global Options shopt -s nullglob # Non-matching globs are removed ('*.foo' = '') shopt -s failglob # Non-matching globs cause errors shopt -s nocaseglob # Case-insensitive globs shopt -s dotglob # Wildcards match files with dots (\"*.sh\" = \".foo.sh\") shopt -s globstar # Allows ** for recursive matches ('lib/**/*.rb' = 'lib/a/b/c.rb') Set GLOBIGNORE as a colon-separated list of patterns to be excluded from globbing.\nNumeric Calculations $((a + 200)) # Add 200 to $a $(($RANDOM%200)) # Random number from 0 to 199 declare -i count # Declare a variable as an integer count+=1 # Increment the count variable Subshells (pwd; echo \"Now I am in: $PWD\") pwd # Still in the original directory Checking Command Existence command -V cd #= \"cd is a function/alias/something\" Trap Errors trap 'echo Error at line $LINENO' ERR or traperr() { echo \"ERROR: ${BASH_SOURCE[1]}in line ${BASH_LINENO[0]}\" } set -o errtrace trap traperr ERR Case/Switch case \"$1\" in start | up) vagrant up ;; *) echo \"Usage: $0{start|stop|ssh}\" ;; esac Relative Sourcing source \"${0%/*}/../share/foo.sh\" Getting Options while [[ \"$1\" =~ ^- \u0026\u0026 ! \"$1\" == \"--\" ]]; do case $1 in -V | --version ) echo \"$version\" exit ;; -s | --string ) shift; string=$1 ;; -f | --flag ) flag=1 ;; esac; shift; done if [[ \"$1\" == '--' ]]; then shift; fi Here Document cat hello world END Reading Input echo -n \"Continue? [y/n]: \" read -r ans echo \"$ans\" The -r option disables the special meaning of the backslash. Special Variables $? # Exit status of the last command $! # PID of the last background command $$ # PID of the shell (current script) $0 # Name of the current script $_ # Last argument of the previous command ${PIPESTATUS[n]} # An array containing the exit status of each command in the pipeline See Special Parameters.\nReturn to Previous Directory pwd # /home/user/foo cd bar/ pwd # /home/user/foo/bar cd - pwd # /home/user/foo Checking Command Results if ping -c 1 google.com; then echo \"Seems like you have a working internet connection\" fi Checking with grep if grep -q 'foo' ~/.bash_history; then echo \"You typed 'foo' in the past\" fi ","wordCount":"1563","inLanguage":"en","image":"https://szulinek.pl/img/blog/bash.webp","datePublished":"2023-07-21T21:22:03+02:00","dateModified":"2023-07-21T21:22:03+02:00","author":[{"@type":"Person","name":"Adam"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://szulinek.pl/en/posts/bash-cheatsheet/"},"publisher":{"@type":"Organization","name":"IT Tech Anytime","logo":{"@type":"ImageObject","url":"https://szulinek.pl/assets/favicon/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://szulinek.pl/en/ accesskey=h title="Szulinek.pl (Alt + H)"><img src=https://szulinek.pl/img/coding.png alt aria-label=logo height=35>Szulinek.pl</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://szulinek.pl/pl/ title=Polski aria-label=:pl:>Pl</a></li></ul></div></div><ul id=menu><li><a href=https://szulinek.pl/en/about title=About><span>About</span></a></li><li><a href=https://szulinek.pl/en/services/ title=Services><span>Services</span></a></li><li><a href=https://szulinek.pl/en/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://szulinek.pl/en/contact/ title=Contact><span>Contact</span></a></li><li><a href=https://portfolio.szulinek.pl#projects title=Portfolio><span>Portfolio</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://szulinek.pl/en/>Home</a></div><h1 class=post-title>Bash Cheatsheet</h1><div class=post-description>Start writting shell scripts!</div><div class=post-meta><span title='2023-07-21 21:22:03 +0200 CEST'>July 21, 2023</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1563 words&nbsp;·&nbsp;Adam&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://szulinek.pl/pl/posts/bash-cheatsheet/>Pl</a></li></ul></div></header><figure class=entry-cover><img loading=lazy src=https://szulinek.pl/img/blog/bash.webp alt=bash></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-is-bash>What is Bash?</a></li><li><a href=#what-can-i-do-with-the-bash-shell>What can I do with the BASH shell?</a></li><li><a href=#how-to-start-writing-shell-scripts>How to start writing shell scripts?</a></li><li><a href=#sample-script>Sample script</a></li><li><a href=#variables>Variables</a></li><li><a href=#conditional-execution>Conditional Execution</a></li><li><a href=#conditions>Conditions</a></li><li><a href=#string-types>String types</a></li><li><a href=#command-substitution>Command Substitution</a></li><li><a href=#strict-mode>Strict Mode</a></li><li><a href=#functions>Functions</a></li><li><a href=#function-definitions>Function Definitions</a></li><li><a href=#returning-values>Returning Values</a></li><li><a href=#function-arguments>Function Arguments</a></li><li><a href=#errors>Errors</a></li><li><a href=#brace-expansion>Brace Expansion</a></li><li><a href=#parameter-expansion>Parameter Expansion</a></li><li><a href=#variable-replacement>Variable Replacement</a></li><li><a href=#comments>Comments</a></li><li><a href=#substrings>Substrings</a></li><li><a href=#length>Length</a></li><li><a href=#default-values>Default Values</a></li><li><a href=#loops>Loops</a><ul><li><a href=#for-loop>For loop</a></li><li><a href=#c-style-for-loop>C-style for loop</a></li><li><a href=#read-lines-in-a-loop>Read lines in a loop</a></li><li><a href=#infinite-loop>Infinite loop</a></li><li><a href=#ranges>Ranges</a></li></ul></li><li><a href=#conditions-1>Conditions</a></li><li><a href=#file-conditions>File Conditions</a></li><li><a href=#example-conditions>Example Conditions</a></li><li><a href=#arrays>Arrays</a><ul><li><a href=#declarations>Declarations</a></li><li><a href=#working-with-arrays>Working with Arrays</a></li><li><a href=#array-operations>Array Operations</a></li><li><a href=#iterating-over-an-array>Iterating over an Array</a></li></ul></li><li><a href=#dictionaries-associative-arrays>Dictionaries (Associative Arrays)</a><ul><li><a href=#declarations-1>Declarations</a></li><li><a href=#working-with-dictionaries>Working with Dictionaries</a></li><li><a href=#iterating-over-a-dictionary>Iterating over a Dictionary</a></li></ul></li><li><a href=#options>Options</a></li><li><a href=#global-options>Global Options</a></li><li><a href=#numeric-calculations>Numeric Calculations</a></li><li><a href=#subshells>Subshells</a></li><li><a href=#checking-command-existence>Checking Command Existence</a></li><li><a href=#trap-errors>Trap Errors</a></li><li><a href=#caseswitch>Case/Switch</a></li><li><a href=#relative-sourcing>Relative Sourcing</a></li><li><a href=#getting-options>Getting Options</a></li><li><a href=#here-document>Here Document</a></li><li><a href=#reading-input>Reading Input</a></li><li><a href=#special-variables>Special Variables</a></li><li><a href=#return-to-previous-directory>Return to Previous Directory</a></li><li><a href=#checking-command-results>Checking Command Results</a></li><li><a href=#checking-with-grep>Checking with grep</a></li></ul></nav></div></details></div><div class=post-content><h2 id=what-is-bash>What is Bash?<a hidden class=anchor aria-hidden=true href=#what-is-bash>#</a></h2><p>Bash is a so-called Linux shell. It is nothing more than a program that allows us to communicate with the system. There are various shells for the Linux system, but Bash is by far the most popular. For countless users, it is a fundamental tool for their work.</p><h2 id=what-can-i-do-with-the-bash-shell>What can I do with the BASH shell?<a hidden class=anchor aria-hidden=true href=#what-can-i-do-with-the-bash-shell>#</a></h2><p>Everything! It would be easier to list what you cannot do.</p><p>Think of any task that takes a lot of time in the Linux system. Now, imagine that you can easily automate that task using Bash.</p><p>With Bash scripts, you can, for example:</p><ul><li>Create your own commands</li><li>Perform calculations</li><li>Manipulate files</li><li>Automate tasks</li></ul><p>And much more :)</p><h2 id=how-to-start-writing-shell-scripts>How to start writing shell scripts?<a hidden class=anchor aria-hidden=true href=#how-to-start-writing-shell-scripts>#</a></h2><p>Below are a few excellent resources to begin your journey with shell scripts:</p><ul><li><a href=https://learnxinyminutes.com/docs/bash/>Learn Bash in Y Minutes!</a></li><li><a href=https://mywiki.wooledge.org/BashGuide>Bash Guide</a></li><li><a href=https://web.archive.org/web/20230406205817/https://wiki.bash-hackers.org/>Bash for Hackers!</a></li></ul><h2 id=sample-script>Sample script<a hidden class=anchor aria-hidden=true href=#sample-script>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/usr/bin/env bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hello </span><span class=nv>$name</span><span class=s2>!&#34;</span>
</span></span></code></pre></div><h2 id=variables>Variables<a hidden class=anchor aria-hidden=true href=#variables>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$name</span>       <span class=c1># see below</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$name</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=si>}</span><span class=s2>!&#34;</span>
</span></span></code></pre></div><h2 id=conditional-execution>Conditional Execution<a hidden class=anchor aria-hidden=true href=#conditional-execution>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git commit <span class=o>&amp;&amp;</span> git push
</span></span><span class=line><span class=cl>git commit <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Commit failed&#34;</span>
</span></span></code></pre></div><h2 id=conditions>Conditions<a hidden class=anchor aria-hidden=true href=#conditions>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> -z <span class=s2>&#34;</span><span class=nv>$string</span><span class=s2>&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;String is empty&#34;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[[</span> -n <span class=s2>&#34;</span><span class=nv>$string</span><span class=s2>&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;String is not empty&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h2 id=string-types>String types<a hidden class=anchor aria-hidden=true href=#string-types>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hi </span><span class=nv>$name</span><span class=s2>&#34;</span>  <span class=c1>#=&gt; Hi John</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;Hi $name&#39;</span>  <span class=c1>#=&gt; Hi $name</span>
</span></span></code></pre></div><h2 id=command-substitution>Command Substitution<a hidden class=anchor aria-hidden=true href=#command-substitution>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;I&#39;m in </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;I&#39;m in `pwd`&#34;</span> 
</span></span></code></pre></div><h2 id=strict-mode>Strict Mode<a hidden class=anchor aria-hidden=true href=#strict-mode>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>set</span> -euo pipefail
</span></span><span class=line><span class=cl><span class=nv>IFS</span><span class=o>=</span><span class=s1>$&#39;\n\t&#39;</span>
</span></span></code></pre></div><h2 id=functions>Functions<a hidden class=anchor aria-hidden=true href=#functions>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>get_name<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;You are </span><span class=k>$(</span>get_name<span class=k>)</span><span class=s2>&#34;</span>
</span></span></code></pre></div><h2 id=function-definitions>Function Definitions<a hidden class=anchor aria-hidden=true href=#function-definitions>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>myfunc<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;hello </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Same, but a different syntax</span>
</span></span><span class=line><span class=cl><span class=k>function</span> myfunc<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;hello </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>myfunc <span class=s2>&#34;John&#34;</span>
</span></span></code></pre></div><h2 id=returning-values>Returning Values<a hidden class=anchor aria-hidden=true href=#returning-values>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>myfunc<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> <span class=nv>myresult</span><span class=o>=</span><span class=s1>&#39;some value&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$myresult</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>result</span><span class=o>=</span><span class=k>$(</span>myfunc<span class=k>)</span>
</span></span></code></pre></div><h2 id=function-arguments>Function Arguments<a hidden class=anchor aria-hidden=true href=#function-arguments>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>$#</span> 	<span class=c1># Number of arguments</span>
</span></span><span class=line><span class=cl><span class=nv>$*</span> 	<span class=c1># All positional parameters as a single word</span>
</span></span><span class=line><span class=cl><span class=nv>$@</span> 	<span class=c1># All positional parameters as separate strings</span>
</span></span><span class=line><span class=cl><span class=nv>$1</span> 	<span class=c1># The first argument</span>
</span></span><span class=line><span class=cl><span class=nv>$_</span> 	<span class=c1># The last argument of the previous command</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>PIPESTATUS</span><span class=p>[n]</span><span class=si>}</span> 	<span class=c1># An array containing the exit status of each command in the pipeline</span>
</span></span></code></pre></div><h2 id=errors>Errors<a hidden class=anchor aria-hidden=true href=#errors>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>myfunc<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> myfunc<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;success&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;failure&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h2 id=brace-expansion>Brace Expansion<a hidden class=anchor aria-hidden=true href=#brace-expansion>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=o>{</span>A,B<span class=o>}</span>.js
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span>A,B<span class=o>}</span>    <span class=c1># Same as A B</span>
</span></span><span class=line><span class=cl><span class=o>{</span>A,B<span class=o>}</span>.js    <span class=c1># Same as A.js B.js</span>
</span></span><span class=line><span class=cl><span class=o>{</span>1..5<span class=o>}</span>    <span class=c1># Same as 1 2 3 4 5</span>
</span></span></code></pre></div><h2 id=parameter-expansion>Parameter Expansion<a hidden class=anchor aria-hidden=true href=#parameter-expansion>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>/J/j</span><span class=si>}</span><span class=s2>&#34;</span>    <span class=c1>#=&gt; &#34;john&#34; (replace)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>:</span><span class=nv>0</span><span class=p>:</span><span class=nv>2</span><span class=si>}</span><span class=s2>&#34;</span>    <span class=c1>#=&gt; &#34;Jo&#34; (substring)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>::</span><span class=nv>2</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1>#=&gt; &#34;Jo&#34; (substring)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>:</span><span class=k>:-</span><span class=nv>1</span><span class=si>}</span><span class=s2>&#34;</span>    <span class=c1>#=&gt; &#34;Joh&#34; (substring)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>:(-1)</span><span class=si>}</span><span class=s2>&#34;</span>   <span class=c1>#=&gt; &#34;n&#34; (substring from the right)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>:(-2):</span><span class=nv>1</span><span class=si>}</span><span class=s2>&#34;</span> <span class=c1>#=&gt; &#34;h&#34; (substring from the right)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>food</span><span class=k>:-</span><span class=nv>Cake</span><span class=si>}</span><span class=s2>&#34;</span>  <span class=c1>#=&gt; $food or &#34;Cake&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>length</span><span class=o>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>name</span><span class=p>:</span><span class=nv>0</span><span class=p>:</span><span class=nv>length</span><span class=si>}</span><span class=s2>&#34;</span>  <span class=c1>#=&gt; &#34;Jo&#34;</span>
</span></span></code></pre></div><p><a href=https://web.archive.org/web/20230408142504/https://wiki.bash-hackers.org/syntax/pe>See: Parameter Expansion</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;/path/to/foo.cpp&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>%.cpp</span><span class=si>}</span><span class=s2>&#34;</span>    <span class=c1># /path/to/foo</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>%.cpp</span><span class=si>}</span><span class=s2>.o&#34;</span>  <span class=c1># /path/to/foo.o</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>%/*</span><span class=si>}</span><span class=s2>&#34;</span>      <span class=c1># /path/to</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>##*.</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1># cpp (extension)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>##*/</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1># foo.cpp (base name)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>#*/</span><span class=si>}</span><span class=s2>&#34;</span>      <span class=c1># path/to/foo.cpp</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>##*/</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1># foo.cpp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>/foo/bar</span><span class=si>}</span><span class=s2>&#34;</span> <span class=c1># /path/to/bar.cpp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;Hello world&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>:</span><span class=nv>6</span><span class=p>:</span><span class=nv>5</span><span class=si>}</span><span class=s2>&#34;</span>   <span class=c1># &#34;world&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>str</span><span class=p>: -5:</span><span class=nv>5</span><span class=si>}</span><span class=s2>&#34;</span>  <span class=c1># &#34;world&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>src</span><span class=o>=</span><span class=s2>&#34;/path/to/foo.cpp&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>base</span><span class=o>=</span><span class=si>${</span><span class=nv>src</span><span class=p>##*/</span><span class=si>}</span>   <span class=c1>#=&gt; &#34;foo.cpp&#34; (base name)</span>
</span></span><span class=line><span class=cl><span class=nv>dir</span><span class=o>=</span><span class=si>${</span><span class=nv>src</span><span class=p>%</span><span class=nv>$base</span><span class=si>}</span>  <span class=c1>#=&gt; &#34;/path/to/&#34; (directory path)</span>
</span></span></code></pre></div><h2 id=variable-replacement>Variable Replacement<a hidden class=anchor aria-hidden=true href=#variable-replacement>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>%suffix</span><span class=si>}</span>    <span class=c1># Remove suffix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>#prefix</span><span class=si>}</span>    <span class=c1># Remove prefix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>%%suffix</span><span class=si>}</span>    <span class=c1># Remove long suffix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>/%suffix</span><span class=si>}</span>    <span class=c1># Remove long suffix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>##prefix</span><span class=si>}</span>    <span class=c1># Remove long prefix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>/#prefix</span><span class=si>}</span>    <span class=c1># Remove long prefix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>/from/to</span><span class=si>}</span>    <span class=c1># Replace first match</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>//from/to</span><span class=si>}</span>    <span class=c1># Replace all matches</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>/%from/to</span><span class=si>}</span>    <span class=c1># Replace suffix</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>/#from/to</span><span class=si>}</span>    <span class=c1># Replace prefix</span>
</span></span></code></pre></div><h2 id=comments>Comments<a hidden class=anchor aria-hidden=true href=#comments>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Single line comment</span>
</span></span><span class=line><span class=cl>: <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>This is
</span></span></span><span class=line><span class=cl><span class=s1>a multi-line
</span></span></span><span class=line><span class=cl><span class=s1>comment
</span></span></span><span class=line><span class=cl><span class=s1>&#39;</span>
</span></span></code></pre></div><h2 id=substrings>Substrings<a hidden class=anchor aria-hidden=true href=#substrings>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>:</span><span class=nv>0</span><span class=p>:</span><span class=nv>3</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>:(-3):</span><span class=nv>3</span><span class=si>}</span>
</span></span></code></pre></div><h2 id=length>Length<a hidden class=anchor aria-hidden=true href=#length>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=si>${#</span><span class=nv>foo</span><span class=si>}</span>    <span class=c1># Length of $foo</span>
</span></span></code></pre></div><h2 id=default-values>Default Values<a hidden class=anchor aria-hidden=true href=#default-values>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=k>:-</span><span class=nv>val</span><span class=si>}</span>    <span class=c1># $foo or val if unset (or empty)</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>:=val</span><span class=si>}</span>    <span class=c1># Set $foo to val if unset (or empty)</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>:+val</span><span class=si>}</span>    <span class=c1># val if $foo is set (and not empty)</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>foo</span><span class=p>:?message</span><span class=si>}</span>    <span class=c1># Display error message and exit if $foo is unset (or empty)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Using colon <span class=o>(</span>:<span class=o>)</span>, removes the checking <span class=o>(</span>un<span class=o>)</span>set, e.g. <span class=si>${</span><span class=nv>foo</span><span class=p>-val</span><span class=si>}</span> will <span class=k>return</span> val <span class=k>if</span> <span class=nv>$foo</span> is unset, otherwise <span class=nv>$foo</span>.
</span></span></code></pre></div><h2 id=loops>Loops<a hidden class=anchor aria-hidden=true href=#loops>#</a></h2><h3 id=for-loop>For loop<a hidden class=anchor aria-hidden=true href=#for-loop>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> i in /etc/rc.*<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h3 id=c-style-for-loop>C-style for loop<a hidden class=anchor aria-hidden=true href=#c-style-for-loop>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> <span class=o>((</span><span class=nv>i</span> <span class=o>=</span> <span class=m>0</span> <span class=p>;</span> i &lt; <span class=m>100</span> <span class=p>;</span> i++<span class=o>))</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h3 id=read-lines-in-a-loop>Read lines in a loop<a hidden class=anchor aria-hidden=true href=#read-lines-in-a-loop>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>while</span> <span class=nb>read</span> -r line<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$line</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span> &lt;file.txt
</span></span></code></pre></div><h3 id=infinite-loop>Infinite loop<a hidden class=anchor aria-hidden=true href=#infinite-loop>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>while</span> true<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  ···
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h3 id=ranges>Ranges<a hidden class=anchor aria-hidden=true href=#ranges>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..5<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Welcome </span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>5..50..5<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Welcome </span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h2 id=conditions-1>Conditions<a hidden class=anchor aria-hidden=true href=#conditions-1>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[[</span> -z STRING <span class=o>]]</span>    <span class=c1># Empty string</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -n STRING <span class=o>]]</span>    <span class=c1># Non-empty string</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> <span class=nv>STRING</span> <span class=o>==</span> STRING <span class=o>]]</span>    <span class=c1># Equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> STRING !<span class=o>=</span> STRING <span class=o>]]</span>    <span class=c1># Not equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -eq NUM <span class=o>]]</span>    <span class=c1># Equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -ne NUM <span class=o>]]</span>    <span class=c1># Not equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -lt NUM <span class=o>]]</span>    <span class=c1># Less than</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -le NUM <span class=o>]]</span>    <span class=c1># Less than or equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -gt NUM <span class=o>]]</span>    <span class=c1># Greater than</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> NUM -ge NUM <span class=o>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Greater than or equal</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> <span class=nv>STRING</span> <span class=o>=</span>~ STRING <span class=o>]]</span>    <span class=c1># Regular expression match</span>
</span></span><span class=line><span class=cl><span class=o>((</span> NUM &lt; NUM <span class=o>))</span>    <span class=c1># Numeric conditions</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -o noclobber <span class=o>]]</span>    <span class=c1># If option OPTIONNAME is set</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> ! EXPR <span class=o>]]</span>    <span class=c1># Negation</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> X <span class=o>&amp;&amp;</span> Y <span class=o>]]</span>    <span class=c1># AND</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> X <span class=o>||</span> Y <span class=o>]]</span>    <span class=c1># OR</span>
</span></span></code></pre></div><h2 id=file-conditions>File Conditions<a hidden class=anchor aria-hidden=true href=#file-conditions>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[[</span> -e FILE <span class=o>]]</span>    <span class=c1># Exists</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -r FILE <span class=o>]]</span>    <span class=c1># Readable</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -h FILE <span class=o>]]</span>    <span class=c1># Symbolic link</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -d FILE <span class=o>]]</span>    <span class=c1># Directory</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -w FILE <span class=o>]]</span>    <span class=c1># Writable</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -s FILE <span class=o>]]</span>    <span class=c1># Size is greater than zero</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -f FILE <span class=o>]]</span>    <span class=c1># File</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> -x FILE <span class=o>]]</span>    <span class=c1># Executable</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> FILE1 -nt FILE2 <span class=o>]]</span>    <span class=c1># FILE1 is newer than FILE2</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> FILE1 -ot FILE2 <span class=o>]]</span>    <span class=c1># FILE2 is newer than FILE1</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> FILE1 -ef FILE2 <span class=o>]]</span>    <span class=c1># Same files</span>
</span></span></code></pre></div><h2 id=example-conditions>Example Conditions<a hidden class=anchor aria-hidden=true href=#example-conditions>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># String</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> -z <span class=s2>&#34;</span><span class=nv>$string</span><span class=s2>&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;String is empty&#34;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[[</span> -n <span class=s2>&#34;</span><span class=nv>$string</span><span class=s2>&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;String is not empty&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;This never happens&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Combinations</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> X <span class=o>&amp;&amp;</span> Y <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Equal</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> <span class=s2>&#34;</span><span class=nv>$A</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;</span><span class=nv>$B</span><span class=s2>&#34;</span> <span class=o>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Regex</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> <span class=s2>&#34;A&#34;</span> <span class=o>=</span>~ . <span class=o>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>((</span> <span class=nv>$a</span> &lt; <span class=nv>$b</span> <span class=o>))</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$a</span><span class=s2> is smaller than </span><span class=nv>$b</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> -e <span class=s2>&#34;file.txt&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;file exists&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h2 id=arrays>Arrays<a hidden class=anchor aria-hidden=true href=#arrays>#</a></h2><h3 id=declarations>Declarations<a hidden class=anchor aria-hidden=true href=#declarations>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>=(</span><span class=s1>&#39;Apple&#39;</span> <span class=s1>&#39;Banana&#39;</span> <span class=s1>&#39;Orange&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Fruits<span class=o>[</span>0<span class=o>]=</span><span class=s2>&#34;Apple&#34;</span>
</span></span><span class=line><span class=cl>Fruits<span class=o>[</span>1<span class=o>]=</span><span class=s2>&#34;Banana&#34;</span>
</span></span><span class=line><span class=cl>Fruits<span class=o>[</span>2<span class=o>]=</span><span class=s2>&#34;Orange&#34;</span>
</span></span></code></pre></div><h3 id=working-with-arrays>Working with Arrays<a hidden class=anchor aria-hidden=true href=#working-with-arrays>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span>           <span class=c1># Element #0</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[-1]</span><span class=si>}</span><span class=s2>&#34;</span>          <span class=c1># Last element</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>           <span class=c1># All elements, space-separated</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${#</span><span class=nv>Fruits</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>          <span class=c1># Number of elements</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${#</span><span class=nv>Fruits</span><span class=si>}</span><span class=s2>&#34;</span>             <span class=c1># Length of first element</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${#</span><span class=nv>Fruits</span><span class=p>[3]</span><span class=si>}</span><span class=s2>&#34;</span>          <span class=c1># Length of the Nth element</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]:</span><span class=nv>3</span><span class=p>:</span><span class=nv>2</span><span class=si>}</span><span class=s2>&#34;</span>       <span class=c1># Range (starting from position 3, length 2)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=p>!Fruits[@]</span><span class=si>}</span><span class=s2>&#34;</span>          <span class=c1># Keys of all elements, space-separated</span>
</span></span></code></pre></div><h3 id=array-operations>Array Operations<a hidden class=anchor aria-hidden=true href=#array-operations>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>=(</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;Watermelon&#34;</span><span class=o>)</span>    <span class=c1># Add</span>
</span></span><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>+=(</span><span class=s1>&#39;Watermelon&#39;</span><span class=o>)</span>                  <span class=c1># Same, add</span>
</span></span><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>=(</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]/Ap*/</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>)</span>          <span class=c1># Remove by regex match</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> Fruits<span class=o>[</span>2<span class=o>]</span>                         <span class=c1># Remove one element</span>
</span></span><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>=(</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=o>)</span>                 <span class=c1># Duplicate</span>
</span></span><span class=line><span class=cl><span class=nv>Fruits</span><span class=o>=(</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>Fruits</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>Veggies</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=o>)</span> <span class=c1># Merge two arrays</span>
</span></span><span class=line><span class=cl><span class=nv>lines</span><span class=o>=(</span><span class=sb>`</span>cat <span class=s2>&#34;logfile&#34;</span><span class=sb>`</span><span class=o>)</span>                 <span class=c1># Read from file</span>
</span></span></code></pre></div><h3 id=iterating-over-an-array>Iterating over an Array<a hidden class=anchor aria-hidden=true href=#iterating-over-an-array>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> i in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>arrayName</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$i</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h2 id=dictionaries-associative-arrays>Dictionaries (Associative Arrays)<a hidden class=anchor aria-hidden=true href=#dictionaries-associative-arrays>#</a></h2><h3 id=declarations-1>Declarations<a hidden class=anchor aria-hidden=true href=#declarations-1>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>declare</span> -A sounds
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sounds<span class=o>[</span>dog<span class=o>]=</span><span class=s2>&#34;bark&#34;</span>
</span></span><span class=line><span class=cl>sounds<span class=o>[</span>cow<span class=o>]=</span><span class=s2>&#34;moo&#34;</span>
</span></span><span class=line><span class=cl>sounds<span class=o>[</span>bird<span class=o>]=</span><span class=s2>&#34;tweet&#34;</span>
</span></span><span class=line><span class=cl>sounds<span class=o>[</span>wolf<span class=o>]=</span><span class=s2>&#34;howl&#34;</span>
</span></span></code></pre></div><p>Declares &ldquo;sounds&rdquo; as a dictionary (associative array).</p><h3 id=working-with-dictionaries>Working with Dictionaries<a hidden class=anchor aria-hidden=true href=#working-with-dictionaries>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>sounds</span><span class=p>[dog]</span><span class=si>}</span><span class=s2>&#34;</span>    <span class=c1># Dog sound</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>sounds</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>      <span class=c1># All values</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=p>!sounds[@]</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1># All keys</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${#</span><span class=nv>sounds</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>     <span class=c1># Number of elements</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> sounds<span class=o>[</span>dog<span class=o>]</span>        <span class=c1># Remove dog key</span>
</span></span></code></pre></div><h3 id=iterating-over-a-dictionary>Iterating over a Dictionary<a hidden class=anchor aria-hidden=true href=#iterating-over-a-dictionary>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Iterate over values</span>
</span></span><span class=line><span class=cl><span class=k>for</span> val in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>sounds</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Iterate over keys</span>
</span></span><span class=line><span class=cl><span class=k>for</span> key in <span class=s2>&#34;</span><span class=si>${</span><span class=p>!sounds[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$key</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h2 id=options>Options<a hidden class=anchor aria-hidden=true href=#options>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>set</span> -o noclobber    <span class=c1># Avoid overwriting files (echo &#34;hi&#34; &gt; foo)</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o errexit      <span class=c1># Exit on error, avoiding cascading errors</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o pipefail     <span class=c1># Show hidden errors</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o nounset      <span class=c1># Treat unset variables as errors</span>
</span></span></code></pre></div><h2 id=global-options>Global Options<a hidden class=anchor aria-hidden=true href=#global-options>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>shopt</span> -s nullglob      <span class=c1># Non-matching globs are removed (&#39;*.foo&#39; =&gt; &#39;&#39;)</span>
</span></span><span class=line><span class=cl><span class=nb>shopt</span> -s failglob      <span class=c1># Non-matching globs cause errors</span>
</span></span><span class=line><span class=cl><span class=nb>shopt</span> -s nocaseglob    <span class=c1># Case-insensitive globs</span>
</span></span><span class=line><span class=cl><span class=nb>shopt</span> -s dotglob       <span class=c1># Wildcards match files with dots (&#34;*.sh&#34; =&gt; &#34;.foo.sh&#34;)</span>
</span></span><span class=line><span class=cl><span class=nb>shopt</span> -s globstar      <span class=c1># Allows ** for recursive matches (&#39;lib/**/*.rb&#39; =&gt; &#39;lib/a/b/c.rb&#39;)</span>
</span></span></code></pre></div><p>Set <code>GLOBIGNORE</code> as a colon-separated list of patterns to be excluded from globbing.</p><h2 id=numeric-calculations>Numeric Calculations<a hidden class=anchor aria-hidden=true href=#numeric-calculations>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>$((</span>a <span class=o>+</span> <span class=m>200</span><span class=k>))</span>      <span class=c1># Add 200 to $a</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>$((</span><span class=nv>$RANDOM</span><span class=o>%</span><span class=m>200</span><span class=k>))</span>  <span class=c1># Random number from 0 to 199</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>declare</span> -i count  <span class=c1># Declare a variable as an integer</span>
</span></span><span class=line><span class=cl><span class=nv>count</span><span class=o>+=</span><span class=m>1</span>          <span class=c1># Increment the count variable</span>
</span></span></code></pre></div><h2 id=subshells>Subshells<a hidden class=anchor aria-hidden=true href=#subshells>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>(</span>pwd<span class=p>;</span> <span class=nb>echo</span> <span class=s2>&#34;Now I am in: </span><span class=nv>$PWD</span><span class=s2>&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nb>pwd</span>  <span class=c1># Still in the original directory</span>
</span></span></code></pre></div><h2 id=checking-command-existence>Checking Command Existence<a hidden class=anchor aria-hidden=true href=#checking-command-existence>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>command</span> -V <span class=nb>cd</span>
</span></span><span class=line><span class=cl><span class=c1>#=&gt; &#34;cd is a function/alias/something&#34;</span>
</span></span></code></pre></div><h2 id=trap-errors>Trap Errors<a hidden class=anchor aria-hidden=true href=#trap-errors>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>trap</span> <span class=s1>&#39;echo Error at line $LINENO&#39;</span> ERR
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>or
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>traperr<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;ERROR: </span><span class=si>${</span><span class=nv>BASH_SOURCE</span><span class=p>[1]</span><span class=si>}</span><span class=s2> in line </span><span class=si>${</span><span class=nv>BASH_LINENO</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o errtrace
</span></span><span class=line><span class=cl><span class=nb>trap</span> traperr ERR
</span></span></code></pre></div><h2 id=caseswitch>Case/Switch<a hidden class=anchor aria-hidden=true href=#caseswitch>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>  start <span class=p>|</span> up<span class=o>)</span>
</span></span><span class=line><span class=cl>    vagrant up
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  *<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Usage: </span><span class=nv>$0</span><span class=s2> {start|stop|ssh}&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></div><h2 id=relative-sourcing>Relative Sourcing<a hidden class=anchor aria-hidden=true href=#relative-sourcing>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>source</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>0</span><span class=p>%/*</span><span class=si>}</span><span class=s2>/../share/foo.sh&#34;</span>
</span></span></code></pre></div><h2 id=getting-options>Getting Options<a hidden class=anchor aria-hidden=true href=#getting-options>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>while</span> <span class=o>[[</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>=</span>~ ^- <span class=o>&amp;&amp;</span> ! <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;--&#34;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>do</span> <span class=k>case</span> <span class=nv>$1</span> in
</span></span><span class=line><span class=cl>  -V <span class=p>|</span> --version <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$version</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>  -s <span class=p>|</span> --string <span class=o>)</span>
</span></span><span class=line><span class=cl>    shift<span class=p>;</span> <span class=nv>string</span><span class=o>=</span><span class=nv>$1</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>  -f <span class=p>|</span> --flag <span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nv>flag</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span><span class=p>;</span> shift<span class=p>;</span> <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[[</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s1>&#39;--&#39;</span> <span class=o>]]</span><span class=p>;</span> <span class=k>then</span> shift<span class=p>;</span> <span class=k>fi</span>
</span></span></code></pre></div><h2 id=here-document>Here Document<a hidden class=anchor aria-hidden=true href=#here-document>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat <span class=s>&lt;&lt;END
</span></span></span><span class=line><span class=cl><span class=s>hello world
</span></span></span><span class=line><span class=cl><span class=s>END</span>
</span></span></code></pre></div><h2 id=reading-input>Reading Input<a hidden class=anchor aria-hidden=true href=#reading-input>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> -n <span class=s2>&#34;Continue? [y/n]: &#34;</span>
</span></span><span class=line><span class=cl><span class=nb>read</span> -r ans
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$ans</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The -r option disables the special meaning of the backslash.
</span></span></code></pre></div><h2 id=special-variables>Special Variables<a hidden class=anchor aria-hidden=true href=#special-variables>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>$?</span>    <span class=c1># Exit status of the last command</span>
</span></span><span class=line><span class=cl><span class=nv>$!</span>    <span class=c1># PID of the last background command</span>
</span></span><span class=line><span class=cl><span class=nv>$$</span>    <span class=c1># PID of the shell (current script)</span>
</span></span><span class=line><span class=cl><span class=nv>$0</span>    <span class=c1># Name of the current script</span>
</span></span><span class=line><span class=cl><span class=nv>$_</span>    <span class=c1># Last argument of the previous command</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>PIPESTATUS</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p>
</span></span></span><span class=line><span class=cl><span class=p>[n]</span><span class=si>}</span>    <span class=c1># An array containing the exit status of each command in the pipeline</span>
</span></span></code></pre></div><p>See Special Parameters.</p><h2 id=return-to-previous-directory>Return to Previous Directory<a hidden class=anchor aria-hidden=true href=#return-to-previous-directory>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>pwd</span>    <span class=c1># /home/user/foo</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> bar/
</span></span><span class=line><span class=cl><span class=nb>pwd</span>    <span class=c1># /home/user/foo/bar</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> -
</span></span><span class=line><span class=cl><span class=nb>pwd</span>    <span class=c1># /home/user/foo</span>
</span></span></code></pre></div><h2 id=checking-command-results>Checking Command Results<a hidden class=anchor aria-hidden=true href=#checking-command-results>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> ping -c <span class=m>1</span> google.com<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Seems like you have a working internet connection&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h2 id=checking-with-grep>Checking with grep<a hidden class=anchor aria-hidden=true href=#checking-with-grep>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> grep -q <span class=s1>&#39;foo&#39;</span> ~/.bash_history<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;You typed &#39;foo&#39; in the past&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://szulinek.pl/en/tags/tech/>tech</a></li><li><a href=https://szulinek.pl/en/tags/www/>www</a></li><li><a href=https://szulinek.pl/en/tags/bash/>bash</a></li></ul><nav class=paginav><a class=prev href=https://szulinek.pl/en/posts/mysql-cheatsheet/><span class=title>« Prev</span><br><span>MySql Cheatsheet</span></a>
<a class=next href=https://szulinek.pl/en/posts/docker-cheatsheet/><span class=title>Next »</span><br><span>Docker Cheatsheet</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://szulinek.pl/en/>IT Tech Anytime</a></span>
<span>Powered by
<a href=https://szulinek.pl rel="noopener noreferrer" target=_blank>szulinek.pl</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=/js/custom.js></script></body></html>