<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker Nextcloud | IT Tech Anytime</title><meta name=keywords content="docker,web,cheatsheet"><meta name=description content="Docker czyli o kontenerach"><meta name=author content><link rel=canonical href=https://canonical.url/to/page><link crossorigin=anonymous href=/assets/css/stylesheet.cb2ba463b21cd55ccebc7e63bb8cfa6b32887f84b96fdab5a1fa38e91370b35b.css integrity="sha256-yyukY7Ic1VzOvH5ju4z6azKIf4S5b9q1ofo46RNws1s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://szulinek.pl/assets/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://szulinek.pl/assets/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://szulinek.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://szulinek.pl/assets/favicon/apple-touch-icon.png><link rel=mask-icon href=https://szulinek.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://szulinek.pl/en/posts/docker-nextcloud/><link rel=alternate hreflang=pl href=https://szulinek.pl/pl/posts/docker-nextcloud/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Docker Nextcloud"><meta property="og:description" content="Docker czyli o kontenerach"><meta property="og:type" content="article"><meta property="og:url" content="https://szulinek.pl/en/posts/docker-nextcloud/"><meta property="og:image" content="https://szulinek.pl/img/blog/nc.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-07T17:41:29+02:00"><meta property="article:modified_time" content="2023-08-07T17:41:29+02:00"><meta property="og:site_name" content="IT Tech Anytime"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://szulinek.pl/img/blog/nc.jpg"><meta name=twitter:title content="Docker Nextcloud"><meta name=twitter:description content="Docker czyli o kontenerach"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":4,"name":"Docker Nextcloud","item":"https://szulinek.pl/en/posts/docker-nextcloud/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker Nextcloud","name":"Docker Nextcloud","description":"Docker czyli o kontenerach","keywords":["docker","web","cheatsheet"],"articleBody":"What is Nextcloud? Nextcloud is an excellent self-hosted alternative to Google Drive or Dropbox.\nI’m not going to tell you why you should use Nextcloud. Instead, I’ll show you how to install a Nextcloud server using Docker containers.\nThe tutorial utilizes an Nginx reverse proxy configuration that allows you to deploy your Nextcloud instance with SSL. This way, your Nextcloud deployment’s URL will use the HTTPS protocol, ensuring secure file transfers.\nTowards the end of the guide, I’ll provide a few tips for Linode cloud users to make Nextcloud deployment easier.\nPrerequisites\nBefore we proceed, make sure a few things are in place. Here’s what you need:\nA Linux server Docker installed along with Docker Compose A registered domain Deploying Nextcloud Server with Docker on a Reverse Proxy Let’s go through the steps one by one.\nStep 1: Set Up the Reverse Proxy With a reverse proxy, you can deploy multiple web services on the same server. This is necessary as you’ll need a Let’s Encrypt container to handle SSL.\nThere are two methods to configure an Nginx reverse proxy.\nThe deployment of the reverse proxy should be done using a separate Compose file, allowing you to run or update web services without disrupting the reverse proxy configuration.\nI’ve already prepared the Compose files in our public GitHub repository. As this isn’t an in-depth article on reverse proxy deployment, I won’t delve into the Compose file details.\nYou can use Git or Wget to download the files. If you’re using Git, clone the entire repository:\ngit clone https://github.com/linuxhandbook/tutorial-snippets \u0026\u0026 \\ cd tutorial-snippets/Reverse_Proxy Otherwise, just download the necessary files:\nHere are three files:\nenv.example: Rename it to .env and change DEFAULT_EMAIL to your email address. max_upload_size.conf: This file ensures you can upload files up to 1 GB in size (default is 2 MB). docker-compose.yaml: The largest of them all. Briefly discussed in the next paragraph. Create a Docker network named net. It will be used in the docker-compose.yaml file.\ndocker network create net The docker-compose file looks like this:\nversion: \"3.3\" services: NginxProxy: image: \"jwilder/nginx-proxy:latest\" volumes: - \"NPhtml:/usr/share/nginx/html\" - \"NPdhparam:/etc/nginx/dhparam\" - \"NPvhost:/etc/nginx/vhost.d\" - \"NPcerts:/etc/nginx/certs:ro\" - \"/var/run/docker.sock:/tmp/docker.sock:ro\" - \"./client_max_upload_size.conf:/etc/nginx/conf.d/client_max_upload_size.conf\" labels: - \"com.github.jrcs.letsencrypt_nginx_proxy_companion.nginx_proxy\" restart: \"on-failure\" networks: [\"net\"] ports: - \"80:80\" - \"443:443\" LetsencryptCompanion: image: \"jrcs/letsencrypt-nginx-proxy-companion:latest\" volumes: - \"LCacme:/etc/acme.sh\" - \"NPvhost:/etc/nginx/vhost.d\" - \"NPcerts:/etc/nginx/certs\" - \"NPhtml:/usr/share/nginx/html\" - \"/var/run/docker.sock:/var/run/docker.sock:ro\" environment: - DEFAULT_EMAIL depends_on: [\"NginxProxy\"] restart: \"on-failure\" networks: [\"net\"] volumes: NPhtml: NPdhparam: NPvhost: NPcerts: LCacme: networks: net: external: true Finally, deploy the containers:\ndocker-compose up -d Upon successful deployment, when you attempt to visit the server’s IP address where your reverse proxy is located, you will see the following message:\nThat’s okay – we haven’t deployed any web applications yet.\nStep 2: Deploy NextCloud There are two components here: one is the database, another is Nextcloud itself, or rather let’s call it the frontend.\nFor the backend database, any MySQL-based database will work. I’m going with MariaDB, especially the image tag (or version) 10.5.9.\nFor Nextcloud, I’ll use version 21.0.0, which is the latest version at the time of writing this article.\nTherefore, the images used are:\nmariadb:10.5.9 nextcloud:21.0.0 If you are using this tutorial in the future and there is a much newer version of Nextcloud and MariaDB, please use those versions.\n","wordCount":"536","inLanguage":"en","image":"https://szulinek.pl/img/blog/nc.jpg","datePublished":"2023-08-07T17:41:29+02:00","dateModified":"2023-08-07T17:41:29+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://szulinek.pl/en/posts/docker-nextcloud/"},"publisher":{"@type":"Organization","name":"IT Tech Anytime","logo":{"@type":"ImageObject","url":"https://szulinek.pl/assets/favicon/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://szulinek.pl/en/ accesskey=h title="Szulinek.pl (Alt + H)"><img src=https://szulinek.pl/img/coding.png alt aria-label=logo height=35>Szulinek.pl</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://szulinek.pl/pl/ title=Polski aria-label=:pl:>Pl</a></li></ul></div></div><ul id=menu><li><a href=https://szulinek.pl/en/about title=About><span>About</span></a></li><li><a href=https://szulinek.pl/en/services/ title=Services><span>Services</span></a></li><li><a href=https://szulinek.pl/en/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://szulinek.pl/en/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://szulinek.pl/en/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://szulinek.pl/en/>Home</a></div><h1 class=post-title>Docker Nextcloud</h1><div class=post-description>Docker czyli o kontenerach</div><div class=post-meta><span title='2023-08-07 17:41:29 +0200 CEST'>August 7, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;536 words&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://szulinek.pl/pl/posts/docker-nextcloud/>Pl</a></li></ul></div></header><figure class=entry-cover><img loading=lazy src=https://szulinek.pl/img/blog/nc.jpg alt=docker></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-is-nextcloud>What is Nextcloud?</a></li><li><a href=#deploying-nextcloud-server-with-docker-on-a-reverse-proxy>Deploying Nextcloud Server with Docker on a Reverse Proxy</a><ul><li><a href=#step-1-set-up-the-reverse-proxy>Step 1: Set Up the Reverse Proxy</a></li><li><a href=#step-2-deploy-nextcloud>Step 2: Deploy NextCloud</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=what-is-nextcloud>What is Nextcloud?<a hidden class=anchor aria-hidden=true href=#what-is-nextcloud>#</a></h2><p>Nextcloud is an excellent self-hosted alternative to <strong>Google Drive</strong> or <strong>Dropbox</strong>.</p><p>I&rsquo;m not going to tell you why you should use Nextcloud. Instead, I&rsquo;ll show you how to install a Nextcloud server using Docker containers.</p><p>The tutorial utilizes an Nginx reverse proxy configuration that allows you to deploy your <strong>Nextcloud instance with SSL</strong>. This way, your Nextcloud deployment&rsquo;s URL will use the HTTPS protocol, ensuring secure file transfers.</p><p>Towards the end of the guide, I&rsquo;ll provide a few tips for Linode cloud users to make Nextcloud deployment easier.</p><p>Prerequisites</p><p>Before we proceed, make sure a few things are in place. Here&rsquo;s what you need:</p><ul><li>A Linux server</li><li>Docker installed along with Docker Compose</li><li>A registered domain</li></ul><h2 id=deploying-nextcloud-server-with-docker-on-a-reverse-proxy>Deploying Nextcloud Server with Docker on a Reverse Proxy<a hidden class=anchor aria-hidden=true href=#deploying-nextcloud-server-with-docker-on-a-reverse-proxy>#</a></h2><p>Let&rsquo;s go through the steps one by one.</p><h3 id=step-1-set-up-the-reverse-proxy>Step 1: Set Up the Reverse Proxy<a hidden class=anchor aria-hidden=true href=#step-1-set-up-the-reverse-proxy>#</a></h3><p>With a reverse proxy, you can deploy multiple web services on the same server. This is necessary as you&rsquo;ll need a <strong>Let&rsquo;s Encrypt</strong> container to handle <strong>SSL</strong>.</p><p>There are two methods to configure an Nginx reverse proxy.</p><p>The deployment of the reverse proxy should be done using a separate Compose file, allowing you to run or update web services without disrupting the reverse proxy configuration.</p><p>I&rsquo;ve already prepared the Compose files in our public GitHub repository. As this isn&rsquo;t an in-depth article on reverse proxy deployment, I won&rsquo;t delve into the Compose file details.</p><p>You can use Git or Wget to download the files. If you&rsquo;re using Git, clone the entire repository:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone https://github.com/linuxhandbook/tutorial-snippets <span class=o>&amp;&amp;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>	<span class=nb>cd</span> tutorial-snippets/Reverse_Proxy
</span></span></code></pre></div><p>Otherwise, just download the necessary files:</p><p>Here are three files:</p><ul><li><strong>env.example:</strong> Rename it to .env and change DEFAULT_EMAIL to your <strong>email</strong> address.</li><li><strong>max_upload_size.conf:</strong> This file ensures you can upload files up to 1 GB in size (default is 2 MB).</li><li><strong>docker-compose.yaml:</strong> The largest of them all. Briefly discussed in the next paragraph.</li></ul><p>Create a Docker network named <strong>net</strong>. It will be used in the <strong>docker-compose.yaml</strong> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>docker network create net
</span></span></code></pre></div><p>The docker-compose file looks like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3.3&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>NginxProxy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;jwilder/nginx-proxy:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPhtml:/usr/share/nginx/html&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPdhparam:/etc/nginx/dhparam&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPvhost:/etc/nginx/vhost.d&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPcerts:/etc/nginx/certs:ro&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;/var/run/docker.sock:/tmp/docker.sock:ro&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;./client_max_upload_size.conf:/etc/nginx/conf.d/client_max_upload_size.conf&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;com.github.jrcs.letsencrypt_nginx_proxy_companion.nginx_proxy&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;on-failure&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>networks</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;net&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;80:80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;443:443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>LetsencryptCompanion</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;jrcs/letsencrypt-nginx-proxy-companion:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;LCacme:/etc/acme.sh&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPvhost:/etc/nginx/vhost.d&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPcerts:/etc/nginx/certs&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;NPhtml:/usr/share/nginx/html&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=s2>&#34;/var/run/docker.sock:/var/run/docker.sock:ro&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>DEFAULT_EMAIL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>depends_on</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;NginxProxy&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;on-failure&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>networks</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;net&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>NPhtml</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>NPdhparam</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>NPvhost</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>NPcerts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>LCacme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>net</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>external</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>Finally, deploy the containers:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>docker-compose up -d
</span></span></code></pre></div><p>Upon successful deployment, when you attempt to visit the server&rsquo;s IP address where your reverse proxy is located, you will see the following message:</p><p><img loading=lazy src=/img/blog/503-nextcloud-reverse-proxy.webp alt="Alt text of image" title="Image title"></p><p>That&rsquo;s okay – we haven&rsquo;t deployed any web applications yet.</p><h3 id=step-2-deploy-nextcloud>Step 2: Deploy NextCloud<a hidden class=anchor aria-hidden=true href=#step-2-deploy-nextcloud>#</a></h3><p>There are two components here: one is the database, another is Nextcloud itself, or rather let&rsquo;s call it the frontend.</p><p>For the backend database, any MySQL-based database will work. I&rsquo;m going with MariaDB, especially the image tag (or version) 10.5.9.</p><p>For Nextcloud, I&rsquo;ll use version 21.0.0, which is the latest version at the time of writing this article.</p><p>Therefore, the images used are:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mariadb:10.5.9
</span></span><span class=line><span class=cl>nextcloud:21.0.0
</span></span></code></pre></div><p>If you are using this tutorial in the future and there is a much newer version of Nextcloud and MariaDB, please use those versions.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://szulinek.pl/en/tags/docker/>docker</a></li><li><a href=https://szulinek.pl/en/tags/web/>web</a></li><li><a href=https://szulinek.pl/en/tags/cheatsheet/>cheatsheet</a></li></ul><nav class=paginav><a class=next href=https://szulinek.pl/en/posts/mysql-cheatsheet/><span class=title>Next »</span><br><span>MySql Cheatsheet</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://szulinek.pl/en/>IT Tech Anytime</a></span>
<span>Powered by
<a href=https://szulinek.pl rel="noopener noreferrer" target=_blank>szulinek.pl</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=/js/custom.js></script></body></html>