<!doctype html><html lang=pl dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>Go Cheatsheet | IT Tech Anytime</title>
<meta name=keywords content="go,cheatsheet"><meta name=description content="Go cheatsheet"><meta name=author content="Adam"><link rel=canonical href=http://localhost:1313/pl/posts/go-cheatsheet/><link crossorigin=anonymous href=/assets/css/stylesheet.b6be07e4dfce4433e411fb9f9649ed81f49fdcf2c7d7fef661d18b030a593490.css integrity="sha256-tr4H5N/ORDPkEfuflkntgfSf3PLH1/72YdGLAwpZNJA=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/assets/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/assets/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/assets/favicon/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/assets/favicon/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/en/posts/go-cheatsheet/><link rel=alternate hreflang=pl href=http://localhost:1313/pl/posts/go-cheatsheet/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/pl/ accesskey=h title="Szulinek IT (Alt + H)"><img src=http://localhost:1313/img/coding.png alt aria-label=logo height=40>Szulinek IT</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=http://localhost:1313/en/ title=English aria-label=:en:>En</a></li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/pl/about title=Whoami><span>Whoami</span></a></li><li><a href=http://localhost:1313/pl/services/ title=Usługi><span>Usługi</span></a></li><li><a href=http://localhost:1313/pl/posts/ title=Blog><span>Blog</span></a></li><li><a href=http://localhost:1313/pl/www/ title=Strony><span>Strony</span></a></li><li><a href=http://localhost:1313/pl/archives/ title=Archiwa><span>Archiwa</span></a></li><li><a href=http://localhost:1313/pl/contact/ title=Kontakt><span>Kontakt</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/pl/>Strona Główna</a>&nbsp;»&nbsp;<a href=http://localhost:1313/pl/posts/>Posts</a></div><h1 class=post-title>Go Cheatsheet</h1><div class=post-description>Go cheatsheet</div><div class=post-meta>&lt;span title='2023-10-19 20:37:55 +0200 CEST'>października 19, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;6 min&amp;nbsp;·&amp;nbsp;1184 słów&amp;nbsp;·&amp;nbsp;Adam&nbsp;|&nbsp;Tłumaczenia:<ul class=i18n_list><li><a href=http://localhost:1313/en/posts/go-cheatsheet/>En</a></li></ul></div></header><figure class=entry-cover><img loading=lazy src=http://localhost:1313/img/post-images/Go-cheatsheet.png alt=docker></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Spis treści</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#wprowadzenie>Wprowadzenie</a></li><li><a href=#przydatne-linki>Przydatne linki</a></li><li><a href=#hello-world>Hello World!</a></li><li><a href=#zmienne>Zmienne</a></li><li><a href=#stałe>Stałe</a></li><li><a href=#podstawowe-typy-danych>Podstawowe typy danych</a><ul><li><a href=#string>String</a></li><li><a href=#liczby>Liczby</a></li><li><a href=#inne-typy-liczbowe>Inne typy liczbowe</a></li><li><a href=#tablice>Tablice</a></li><li><a href=#wycinki-slices>Wycinki (Slices)</a></li><li><a href=#wskaźniki>Wskaźniki</a></li><li><a href=#konwersje-typów>Konwersje typów</a></li></ul></li><li><a href=#kontrola-przepływu>Kontrola przepływu</a><ul><li><a href=#warunki>Warunki</a></li><li><a href=#instrukcje-w-warunkach>Instrukcje w warunkach</a></li><li><a href=#instrukcja-switch>Instrukcja &ldquo;switch&rdquo;</a></li><li><a href=#pętla-for>Pętla &ldquo;for&rdquo;</a></li><li><a href=#pętla-for-z-zakresem-for-range>Pętla &ldquo;for&rdquo; z zakresem (for-range)</a></li><li><a href=#pętla-while>Pętla &ldquo;while&rdquo;</a></li></ul></li><li><a href=#funkcje>Funkcje</a><ul><li><a href=#lambdy>Lambdy</a></li><li><a href=#wiele-wartości-zwracanych>Wiele wartości zwracanych</a></li><li><a href=#nazwane-wartości-zwracane>Nazwane wartości zwracane</a></li></ul></li><li><a href=#paczki>Paczki</a><ul><li><a href=#importowanie>Importowanie</a></li><li><a href=#aliasy>Aliasy</a></li><li><a href=#paczki-1>Paczki</a></li><li><a href=#heading></a></li></ul></li><li><a href=#współbieżność>Współbieżność</a><ul><li><a href=#goroutines>Goroutines</a></li><li><a href=#kanały-buforowane>Kanały buforowane</a></li><li><a href=#zamykanie-kanałów>Zamykanie kanałów</a></li><li><a href=#waitgroup>WaitGroup</a></li></ul></li><li><a href=#kontrola-błędów>Kontrola błędów</a><ul><li><a href=#defer>Defer</a></li><li><a href=#funkcje-opóźnione>Funkcje opóźnione</a></li></ul></li><li><a href=#struktury>Struktury</a><ul><li><a href=#definiowanie>Definiowanie</a></li><li><a href=#literały>Literały</a></li><li><a href=#używanie-wskaźników-do-struktur>Używanie wskaźników do struktur</a></li></ul></li><li><a href=#metody>Metody</a><ul><li><a href=#odbiorcy>Odbiorcy</a></li><li><a href=#mutacje>Mutacje</a></li></ul></li><li><a href=#interfejsy>Interfejsy</a><ul><li><a href=#podstawowy-interfejs>Podstawowy interfejs</a></li><li><a href=#struktury-1>Struktury</a></li><li><a href=#metody-1>Metody</a></li><li><a href=#przykład-interfejsu>Przykład interfejsu</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=wprowadzenie>Wprowadzenie<a hidden class=anchor aria-hidden=true href=#wprowadzenie>#</a></h2><p>Go, znany także jako Golang, to język programowania stworzony przez Google. Jest to język open source charakteryzujący się wyjątkową wydajnością i efektywnością. Jest idealny do tworzenia oprogramowania serwerowego, narzędzi dla programistów i aplikacji internetowych. Ze względu na swoją prostotę, Go zyskuje coraz większą popularność w tworzeniu skalowalnych i wydajnych aplikacji internetowych oraz mikrousług.</p><h2 id=przydatne-linki>Przydatne linki<a hidden class=anchor aria-hidden=true href=#przydatne-linki>#</a></h2><ul><li><a href=https://go.dev/tour/welcome/1>A Tour of Go</a></li><li><a href=https://replit.com/languages/go>Go repl</a></li><li><a href=https://github.com/golang/go/wiki/>Go Lang wiki</a></li></ul><h2 id=hello-world>Hello World!<a hidden class=anchor aria-hidden=true href=#hello-world>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>message</span> <span class=o>:=</span> <span class=nf>greetMe</span><span class=p>(</span><span class=s>&#34;world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>greetMe</span><span class=p>(</span><span class=nx>name</span> <span class=kt>string</span><span class=p>)</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s>&#34;Hello, &#34;</span> <span class=o>+</span> <span class=nx>name</span> <span class=o>+</span> <span class=s>&#34;!&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ go build
</span></span></code></pre></div><h2 id=zmienne>Zmienne<a hidden class=anchor aria-hidden=true href=#zmienne>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>msg</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>msg</span> <span class=p>=</span> <span class=s>&#34;Hello, world!&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>msg</span> <span class=kt>string</span> <span class=p>=</span> <span class=s>&#34;Hello, world!&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>msg</span> <span class=p>=</span> <span class=mi>1</span><span class=p>,</span> <span class=s>&#34;Hello, world!&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msg</span> <span class=p>=</span> <span class=s>&#34;Hello&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Deklaracja listy
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>  <span class=nx>y</span> <span class=p>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>  <span class=nx>z</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>  <span class=nx>d</span><span class=p>,</span> <span class=nx>e</span> <span class=p>=</span> <span class=mi>40</span><span class=p>,</span> <span class=s>&#34;Hello&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>f</span><span class=p>,</span> <span class=nx>g</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>msg</span> <span class=o>:=</span> <span class=s>&#34;Hello&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>x</span><span class=p>,</span> <span class=nx>msg</span> <span class=o>:=</span> <span class=mi>1</span><span class=p>,</span> <span class=s>&#34;Hello&#34;</span>
</span></span></code></pre></div><h2 id=stałe>Stałe<a hidden class=anchor aria-hidden=true href=#stałe>#</a></h2><p>Stałe mogą przyjmować wartości liczbowe, tekstowe, logiczne lub numeryczne.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>const</span> <span class=nx>Phi</span> <span class=p>=</span> <span class=mf>1.618</span>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>Size</span> <span class=kt>int64</span> <span class=p>=</span> <span class=mi>1024</span>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=p>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>Pi</span> <span class=p>=</span> <span class=mf>3.14</span>
</span></span><span class=line><span class=cl>  <span class=nx>E</span>  <span class=p>=</span> <span class=mf>2.718</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>Sunday</span> <span class=p>=</span> <span class=kc>iota</span>
</span></span><span class=line><span class=cl>  <span class=nx>Monday</span>
</span></span><span class=line><span class=cl>  <span class=nx>Tuesday</span>
</span></span><span class=line><span class=cl>  <span class=nx>Wednesday</span>
</span></span><span class=line><span class=cl>  <span class=nx>Thursday</span>
</span></span><span class=line><span class=cl>  <span class=nx>Friday</span>
</span></span><span class=line><span class=cl>  <span class=nx>Saturday</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><h2 id=podstawowe-typy-danych>Podstawowe typy danych<a hidden class=anchor aria-hidden=true href=#podstawowe-typy-danych>#</a></h2><h3 id=string>String<a hidden class=anchor aria-hidden=true href=#string>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>str</span> <span class=o>:=</span> <span class=s>&#34;Hello&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>str</span> <span class=o>:=</span> <span class=s>`Multiline
</span></span></span><span class=line><span class=cl><span class=s>string`</span>
</span></span></code></pre></div><h3 id=liczby>Liczby<a hidden class=anchor aria-hidden=true href=#liczby>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>num</span> <span class=o>:=</span> <span class=mi>3</span>          <span class=c1>// int
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>num</span> <span class=o>:=</span> <span class=mf>3.</span>         <span class=c1>// float64
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>num</span> <span class=o>:=</span> <span class=mi>3</span> <span class=o>+</span> <span class=m>4i</span>     <span class=c1>// complex128
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>num</span> <span class=o>:=</span> <span class=nb>byte</span><span class=p>(</span><span class=sc>&#39;a&#39;</span><span class=p>)</span>  <span class=c1>// byte (alias for uint8)
</span></span></span></code></pre></div><h3 id=inne-typy-liczbowe>Inne typy liczbowe<a hidden class=anchor aria-hidden=true href=#inne-typy-liczbowe>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>u</span> <span class=kt>uint</span> <span class=p>=</span> <span class=mi>7</span>        <span class=c1>// uint (bez znaku)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>p</span> <span class=kt>float32</span> <span class=p>=</span> <span class=mf>22.7</span>  <span class=c1>// float 32-bitowy
</span></span></span></code></pre></div><h3 id=tablice>Tablice<a hidden class=anchor aria-hidden=true href=#tablice>#</a></h3><p>Tablice mają zdefiniowany rozmiar.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// var numbers [5]int
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>numbers</span> <span class=o>:=</span> <span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>}</span>
</span></span></code></pre></div><h3 id=wycinki-slices>Wycinki (Slices)<a hidden class=anchor aria-hidden=true href=#wycinki-slices>#</a></h3><p>Wycinki mają dynamiczną wielkość w przeciwieństwie do tablic.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>slice</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>slice</span> <span class=o>:=</span> <span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=wskaźniki>Wskaźniki<a hidden class=anchor aria-hidden=true href=#wskaźniki>#</a></h3><p>Wskaźniki wskazują na lokalizację w pamięci zmiennej.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>:=</span> <span class=o>*</span><span class=nf>getPointer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Wartość to&#34;</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getPointer</span><span class=p>()</span> <span class=o>*</span><span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span> <span class=o>:=</span> <span class=mi>234</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>&amp;</span><span class=nx>a</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>:=</span> <span class=nb>new</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=nx>a</span> <span class=p>=</span> <span class=mi>234</span>
</span></span></code></pre></div><h3 id=konwersje-typów>Konwersje typów<a hidden class=anchor aria-hidden=true href=#konwersje-typów>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nx>f</span> <span class=o>:=</span> <span class=nb>float64</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>u</span> <span class=o>:=</span> <span class=nb>uint</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=kontrola-przepływu>Kontrola przepływu<a hidden class=anchor aria-hidden=true href=#kontrola-przepływu>#</a></h2><h3 id=warunki>Warunki<a hidden class=anchor aria-hidden=true href=#warunki>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>day</span> <span class=o>==</span> <span class=s>&#34;niedziela&#34;</span> <span class=o>||</span> <span class=nx>day</span> <span class=o>==</span> <span class=s>&#34;sobota&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>odpocznij</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>day</span> <span class=o>==</span> <span class=s>&#34;poniedziałek&#34;</span> <span class=o>&amp;&amp;</span> <span class=nf>jestesZmęczony</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>jęk</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>pracuj</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=instrukcje-w-warunkach>Instrukcje w warunkach<a hidden class=anchor aria-hidden=true href=#instrukcje-w-warunkach>#</a></h3><p>Warunek w instrukcji &ldquo;if&rdquo; może być poprzedzony instrukcją przed średnikiem (;). Zmienne zadeklarowane w tej instrukcji są dostępne tylko w jej zakresie.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>zrobCos</span><span class=p>();</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Ups!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=instrukcja-switch>Instrukcja &ldquo;switch&rdquo;<a hidden class=anchor aria-hidden=true href=#instrukcja-switch>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>switch</span> <span class=nx>day</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s>&#34;niedziela&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1>// przypadki nie &#34;przechodzą&#34; domyślnie
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>fallthrough</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s>&#34;sobota&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nf>odpocznij</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nf>pracuj</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=pętla-for>Pętla &ldquo;for&rdquo;<a hidden class=anchor aria-hidden=true href=#pętla-for>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=nx>count</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>count</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>count</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Licznik wynosi&#34;</span><span class=p>,</span> <span class=nx>count</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=pętla-for-z-zakresem-for-range>Pętla &ldquo;for&rdquo; z zakresem (for-range)<a hidden class=anchor aria-hidden=true href=#pętla-for-z-zakresem-for-range>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>entry</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;Jack&#34;</span><span class=p>,</span> <span class=s>&#34;John&#34;</span><span class=p>,</span> <span class=s>&#34;Jones&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>val</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>entry</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Na pozycji %d znajduje się postać %s\n&#34;</span><span class=p>,</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=pętla-while>Pętla &ldquo;while&rdquo;<a hidden class=anchor aria-hidden=true href=#pętla-while>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>n</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>x</span> <span class=o>:=</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>n</span> <span class=o>!=</span> <span class=nx>x</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>n</span> <span class=o>:=</span> <span class=nf>zgadnij</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=funkcje>Funkcje<a hidden class=anchor aria-hidden=true href=#funkcje>#</a></h2><p>W języku Go, funkcje są obiektami pierwszej klasy.</p><h3 id=lambdy>Lambdy<a hidden class=anchor aria-hidden=true href=#lambdy>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>myfunc</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>bool</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>x</span> <span class=p>&gt;</span> <span class=mi>10000</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=wiele-wartości-zwracanych>Wiele wartości zwracanych<a hidden class=anchor aria-hidden=true href=#wiele-wartości-zwracanych>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=o>:=</span> <span class=nf>getMessage</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getMessage</span><span class=p>()</span> <span class=p>(</span><span class=nx>a</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s>&#34;Hello&#34;</span><span class=p>,</span> <span class=s>&#34;World&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=nazwane-wartości-zwracane>Nazwane wartości zwracane<a hidden class=anchor aria-hidden=true href=#nazwane-wartości-zwracane>#</a></h3><p>Poprzez zdefiniowanie nazw wartości zwracanych w sygnaturze funkcji, zwrócenie (bez argumentów) spowoduje zwrócenie zmiennych o tych nazwach.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>split</span><span class=p>(</span><span class=nx>sum</span> <span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span> <span class=p>=</span> <span class=nx>sum</span> <span class=o>*</span> <span class=mi>4</span> <span class=o>/</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl>  <span class=nx>y</span> <span class=p>=</span> <span class=nx>sum</span> <span class=o>-</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=paczki>Paczki<a hidden class=anchor aria-hidden=true href=#paczki>#</a></h2><h3 id=importowanie>Importowanie<a hidden class=anchor aria-hidden=true href=#importowanie>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;math/rand&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;fmt&#34;</span>        <span class=c1>// daje fmt.Println
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s>&#34;math/rand&#34;</span>  <span class=c1>// daje rand.Intn
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>)</span>
</span></span></code></pre></div><p>Oba przypadki są takie same.</p><h3 id=aliasy>Aliasy<a hidden class=anchor aria-hidden=true href=#aliasy>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=nx>r</span> <span class=s>&#34;math/rand&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>r</span><span class=p>.</span><span class=nf>Intn</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=paczki-1>Paczki<a hidden class=anchor aria-hidden=true href=#paczki-1>#</a></h3><p>Każdy plik paczki musi zaczynać się od słowa kluczowego &lsquo;package&rsquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>hello</span>
</span></span></code></pre></div><h3 id=heading><a hidden class=anchor aria-hidden=true href=#heading>#</a></h3><p>Eksportowanie nazw</p><p>Nazwy eksportowane zaczynają się od wielkich liter.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Hello</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=err>···</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=współbieżność>Współbieżność<a hidden class=anchor aria-hidden=true href=#współbieżność>#</a></h2><h3 id=goroutines>Goroutines<a hidden class=anchor aria-hidden=true href=#goroutines>#</a></h3><p>Kanały są bezpiecznymi obiektami komunikacji używanymi w gorutynach.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Kanał
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Rozpocznij gorutyny równolegle
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>go</span> <span class=nf>push</span><span class=p>(</span><span class=s>&#34;Moe&#34;</span><span class=p>,</span> <span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>go</span> <span class=nf>push</span><span class=p>(</span><span class=s>&#34;Larry&#34;</span><span class=p>,</span> <span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>go</span> <span class=nf>push</span><span class=p>(</span><span class=s>&#34;Curly&#34;</span><span class=p>,</span> <span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Odczytaj 3 wyniki
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// (Ponieważ nasze gorutyny są równoległe,
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// kolejność nie jest gwarantowana!)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=o>&lt;-</span><span class=nx>ch</span><span class=p>,</span> <span class=o>&lt;-</span><span class=nx>ch</span><span class=p>,</span> <span class=o>&lt;-</span><span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>push</span><span class=p>(</span><span class=nx>name</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>ch</span> <span class=kd>chan</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>msg</span> <span class=o>:=</span> <span class=s>&#34;Hej, &#34;</span> <span class=o>+</span> <span class=nx>name</span>
</span></span><span class=line><span class=cl>  <span class=nx>ch</span> <span class=o>&lt;-</span> <span class=nx>msg</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=kanały-buforowane>Kanały buforowane<a hidden class=anchor aria-hidden=true href=#kanały-buforowane>#</a></h3><p>Kanały buforowane ograniczają ilość wiadomości, które mogą przechowywać.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>int</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=c1>// błąd krytyczny:
</span></span></span><span class=line><span class=cl><span class=c1>// wszystkie gorutyny są uśpione - deadlock!
</span></span></span></code></pre></div><h3 id=zamykanie-kanałów>Zamykanie kanałów<a hidden class=anchor aria-hidden=true href=#zamykanie-kanałów>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=nb>close</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span>
</span></span></code></pre></div><p>Iteruje przez kanał do momentu jego zamknięcia.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>ch</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=err>···</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Kanał jest zamknięty, jeśli ok == false.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>v</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=o>&lt;-</span><span class=nx>ch</span>
</span></span></code></pre></div><h3 id=waitgroup>WaitGroup<a hidden class=anchor aria-hidden=true href=#waitgroup>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;sync&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>wg</span> <span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>item</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>itemList</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Zwiększ licznik WaitGroup
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>go</span> <span class=nf>doOperation</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>wg</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Czekaj, aż gorutyny zakończą pracę
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>wg</span><span class=p>.</span><span class=nf>Wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>doOperation</span><span class=p>(</span><span class=nx>wg</span> <span class=o>*</span><span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span><span class=p>,</span> <span class=nx>item</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Wykonaj operację na elemencie
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><p>WaitGroup oczekuje na zakończenie zbioru gorutyn. Główna gorutyna wywołuje metodę Add, aby ustawić liczbę gorutyn, na które ma czekać. Każda gorutyna wywołuje wg.Done() po zakończeniu swojej pracy.</p><h2 id=kontrola-błędów>Kontrola błędów<a hidden class=anchor aria-hidden=true href=#kontrola-błędów>#</a></h2><h3 id=defer>Defer<a hidden class=anchor aria-hidden=true href=#defer>#</a></h3><p>&ldquo;Defer&rdquo; w języku Go jest mechanizmem, który pozwala na opóźnione wykonanie funkcji do momentu zakończenia otaczającej ją funkcji. Argumenty są ewaluowane natychmiast, ale samo wywołanie funkcji jest opóźnione do późniejszego czasu.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>defer</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Gotowe&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pracuję...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=funkcje-opóźnione>Funkcje opóźnione<a hidden class=anchor aria-hidden=true href=#funkcje-opóźnione>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>defer</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Gotowe&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}()</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pracuję...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Lambdy (anonimowe funkcje) są lepiej dostosowane do bloków &ldquo;defer&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>d</span> <span class=p>=</span> <span class=nb>int64</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>defer</span> <span class=kd>func</span><span class=p>(</span><span class=nx>d</span> <span class=o>*</span><span class=kt>int64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;&amp; %v Unix Sec\n&#34;</span><span class=p>,</span> <span class=o>*</span><span class=nx>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}(</span><span class=o>&amp;</span><span class=nx>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=s>&#34;Gotowe &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>d</span> <span class=p>=</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>().</span><span class=nf>Unix</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Blok &ldquo;defer&rdquo; używa aktualnej wartości zmiennej &ldquo;d&rdquo;, chyba że użyjemy wskaźnika, aby uzyskać ostateczną wartość na końcu funkcji &ldquo;main&rdquo;.</p><h2 id=struktury>Struktury<a hidden class=anchor aria-hidden=true href=#struktury>#</a></h2><h3 id=definiowanie>Definiowanie<a hidden class=anchor aria-hidden=true href=#definiowanie>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Vertex</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>X</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>  <span class=nx>Y</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=p>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>X</span><span class=p>,</span> <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=literały>Literały<a hidden class=anchor aria-hidden=true href=#literały>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=nx>X</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>Y</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Nazwy pól mogą być pominięte
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Pole Y jest domyślne
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=nx>X</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
</span></span></code></pre></div><h3 id=używanie-wskaźników-do-struktur>Używanie wskaźników do struktur<a hidden class=anchor aria-hidden=true href=#używanie-wskaźników-do-struktur>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=p>=</span> <span class=mi>2</span>
</span></span></code></pre></div><p>Odpowiednie wyrażenie v.X jest takie samo jak (*v).X, gdy v jest wskaźnikiem.</p><h2 id=metody>Metody<a hidden class=anchor aria-hidden=true href=#metody>#</a></h2><h3 id=odbiorcy>Odbiorcy<a hidden class=anchor aria-hidden=true href=#odbiorcy>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Vertex</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>X</span><span class=p>,</span> <span class=nx>Y</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>v</span> <span class=nx>Vertex</span><span class=p>)</span> <span class=nf>Abs</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=o>*</span> <span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=o>+</span> <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span> <span class=o>*</span> <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>.</span><span class=nf>Abs</span><span class=p>()</span>
</span></span></code></pre></div><p>W języku Go nie ma klas, ale można definiować funkcje z odbiorcami.</p><h3 id=mutacje>Mutacje<a hidden class=anchor aria-hidden=true href=#mutacje>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>v</span> <span class=o>*</span><span class=nx>Vertex</span><span class=p>)</span> <span class=nf>Scale</span><span class=p>(</span><span class=nx>f</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=p>=</span> <span class=nx>v</span><span class=p>.</span><span class=nx>X</span> <span class=o>*</span> <span class=nx>f</span>
</span></span><span class=line><span class=cl>  <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span> <span class=p>=</span> <span class=nx>v</span><span class=p>.</span><span class=nx>Y</span> <span class=o>*</span> <span class=nx>f</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=nx>Vertex</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span> <span class=mi>12</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>v</span><span class=p>.</span><span class=nf>Scale</span><span class=p>(</span><span class=mf>0.5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// `v` zostanie zaktualizowane
</span></span></span></code></pre></div><p>Poprzez zdefiniowanie odbiorcy jako wskaźnika (*Vertex), można dokonywać mutacji danych.</p><h2 id=interfejsy>Interfejsy<a hidden class=anchor aria-hidden=true href=#interfejsy>#</a></h2><h3 id=podstawowy-interfejs>Podstawowy interfejs<a hidden class=anchor aria-hidden=true href=#podstawowy-interfejs>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Shape</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>Area</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl>  <span class=nf>Perimeter</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=struktury-1>Struktury<a hidden class=anchor aria-hidden=true href=#struktury-1>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Rectangle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>Length</span><span class=p>,</span> <span class=nx>Width</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Struktura Rectangle implementuje interfejs Shape w sposób domyślny, poprzez zaimplementowanie wszystkich jego metod.</p><h3 id=metody-1>Metody<a hidden class=anchor aria-hidden=true href=#metody-1>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Length</span> <span class=o>*</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Width</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Perimeter</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>Length</span> <span class=o>+</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Width</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Metody zdefiniowane w interfejsie Shape są zaimplementowane w strukturze Rectangle.</p><h3 id=przykład-interfejsu>Przykład interfejsu<a hidden class=anchor aria-hidden=true href=#przykład-interfejsu>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>r</span> <span class=nx>Shape</span> <span class=p>=</span> <span class=nx>Rectangle</span><span class=p>{</span><span class=nx>Length</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=nx>Width</span><span class=p>:</span> <span class=mi>4</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Typ r: %T, Pole: %v, Obwód: %v.&#34;</span><span class=p>,</span> <span class=nx>r</span><span class=p>,</span> <span class=nx>r</span><span class=p>.</span><span class=nf>Area</span><span class=p>(),</span> <span class=nx>r</span><span class=p>.</span><span class=nf>Perimeter</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/pl/tags/go/>Go</a></li><li><a href=http://localhost:1313/pl/tags/cheatsheet/>Cheatsheet</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/pl/posts/display-wifi-password/><span class=title>« Poprzednia</span><br><span>Jak wyświetlić hasło do Wifi?</span>
</a><a class=next href=http://localhost:1313/pl/posts/github-actions-deploy-hugo-app/><span class=title>Następna »</span><br><span>Deploy hugo app && github actions</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/pl/>IT Tech Anytime</a></span>
<span>Powered by
<a href=https://szulinek.pl rel="noopener noreferrer" target=_blank>Adam Hałdaś</a>
</span>- Ostrów Wielkopolski</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Kopiuj";function s(){t.innerHTML="Skopiowano!",setTimeout(()=>{t.innerHTML="Kopiuj"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=/js/custom.js></script></body></html>